<div class="mgtopbottom">
  <div>
    <h3 class="heading-txt mb-3">Open Positions</h3>
    <p class="smalltxt">
      Below is a list of open positions if you're interested in working for our company.
    </p>
  </div>

  <hr />

  <ng-container *ngIf="activeCareers.length > 0; else noJobs">
    <div *ngFor="let job of careers; let i = index; trackBy: trackByJob">
      <div *ngIf="job.status === 'ACTIVE'" class="job-card mb-4">
        <div class="d-flex justify-content-between align-items-start pb-2">
          <div>
            <h3 class="jobtt">{{ job.jobTitle || 'Untitled Role' }}</h3>
            <div class="smalltxt mt-1">
              <span *ngIf="job.jobdesp">
                {{ job.jobdesp }}
              </span>
            </div>
          </div>

          <div class="applybtn">
            <a
              class="apply-link"
              style="float: right; cursor: pointer"
              (click)="openJobApplicationDialog(job)"
              >Apply<i class=""
                ><img
                  class="icon-up"
                  src="/careers/arrowup-c.svg"
                  alt="no img found"
                  style="border-radius: 0px !important" /></i
            ></a>
            <span class="line-hover"></span>
          </div>
        </div>

        <!-- <p class="jobdp mt-2">{{ job.jobdesp }}</p> -->

        <div class="job-tags mt-3 d-flex flex-wrap gap-2">
          <span class="tag badge bg-light text-dark">
            <i class="fa-regular fa-clock me-1"></i>
            {{ job.type || 'N/A' }}
          </span>

          <span class="tag badge bg-light text-dark">
            <i class="fa-solid fa-briefcase me-1"></i>
            {{ job.department || job.dpt || 'General' }}
          </span>

          <span class="tag badge bg-light text-dark">
            <i class="fa-regular fa-calendar-days me-1"></i>
            {{
              job.date || job.datePosted || job.createdAt
                ? (job.date || job.datePosted || job.createdAt | date : 'mediumDate')
                : '—'
            }}
          </span>

          <!-- <span *ngIf="job.reqskill?.length" class="tag badge bg-light text-dark">
          <i class="fa-solid fa-laptop-code me-1"></i>
          {{ job.reqskill.join(', ') }}
        </span> -->
        </div>
      </div>
    </div>
  </ng-container>

  <!-- No jobs template -->
  <ng-template #noJobs>
    <div class="no-posts-message text-center py-1">
      <div class="emp-cont mb-3 d-flex justify-content-center align-content-center">
        <img src="careers/nojob.svg" alt="No jobs available" class="empty-icon" />
      </div>
      <h3 class="jobdp">We’re not hiring right now</h3>
      <p class="smalltxt">But we’re always on the lookout for talented people. Check back soon!</p>
    </div>
  </ng-template>

  <div class="mt-3">
    <p
      class="policy"
      style="font-weight: 600 !important; color: rgba(1, 0, 76, 1); margin-bottom: 5px !important"
    >
      No Suitable Role Right Now?
    </p>
    <p class="policy">
      That’s okay — we’re always keen to hear from talented individuals who share our values. If you
      don’t see a role that fits your skills, feel free to send your CV to
      <a
        href="mailto:contact@wealthmax.co.uk"
        target="_blank"
        class="text-decoration-underline txtorange"
      >
        careers&#64;wealthmax.co.uk</a
      >. A member of our team will be in touch if a suitable opportunity arises and we'll get in
      contact.
    </p>

    <p class="policy12">
      <span style="color: rgba(1, 0, 76, 1)">Recruitment Privacy Notice:</span>
      By submitting your application, you consent to Wealthmax retaining your information for up to
      12 months from the date of submission. During this period, we may contact you regarding roles
      that align with your experience and qualifications. If you have any questions or wish to
      update your details, please contact our onboarding team at
      <a
        href="mailto:contact@wealthmax.co.uk"
        target="_blank"
        class="text-decoration-underline txtorange"
      >
        careers&#64;wealthmax.co.uk
      </a>
    </p>
  </div>
</div>
